{"ast":null,"code":"import _slicedToArray from \"/Users/tristangruener/Desktop/trstn/dev/cashflow_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/tristangruener/Desktop/trstn/dev/cashflow_app/src/components/CreateLink.js\";\nimport React from 'react';\nimport useFormValidation from './auth/useFormValidation';\nimport validateCreateLink from './auth/validateCreateLink';\nimport { FirebaseContext } from '../firebase';\nimport { Link } from \"react-router-dom\";\nimport moment from 'moment';\nconst INITIAL_STATE = {\n  category: \"\",\n  amount: \"\",\n  business: \"\",\n  paymentMethod: \"\",\n  description: \"\"\n};\n\nfunction CreateLink(props) {\n  const time = Date.now();\n\n  const _React$useContext = React.useContext(FirebaseContext),\n        firebase = _React$useContext.firebase,\n        preferences = _React$useContext.preferences,\n        user = _React$useContext.user;\n\n  const _useFormValidation = useFormValidation(INITIAL_STATE, validateCreateLink, handleCreateExpense),\n        handleSubmit = _useFormValidation.handleSubmit,\n        handleChange = _useFormValidation.handleChange,\n        handleBlur = _useFormValidation.handleBlur,\n        values = _useFormValidation.values,\n        errors = _useFormValidation.errors;\n\n  const _React$useState = React.useState(\"\"),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        amount = _React$useState2[0],\n        setAmount = _React$useState2[1]; // alert('hi')\n  // values.amount = 19\n\n\n  function handleCreateExpense() {\n    if (!user) {\n      props.history.push('/login');\n    } else {\n      const category = values.category,\n            amount = values.amount,\n            business = values.business,\n            paymentMethod = values.paymentMethod,\n            description = values.description; //convert amount to number here\n\n      const amountNum = parseFloat(amount, 10);\n      const expense = {\n        category,\n        amount: amountNum,\n        business,\n        paymentMethod,\n        description,\n        postedBy: {\n          id: user.uid,\n          name: user.displayName\n        },\n        created: Date.now(),\n        monthCreated: moment(Date.now()).format('MMMM'),\n        yearCreated: moment(Date.now()).format('YYYY'),\n        dayCreated: moment(Date.now()).format('D'),\n        actualDay: moment(Date.now()).format('dddd')\n      };\n      firebase.db.collection('expenses').add(expense).then(() => {\n        alert('hey!!'); //reset fields here\n        //hmm how do i do that in this case?\n        // values.amount = 19\n      });\n    }\n\n    values.amount = '';\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"columns\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    className: \"has-text-grey\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, \"Add Expense\"))), user ? React.createElement(\"div\", {\n    className: \"columns\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"field\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, \"Category\"), React.createElement(\"div\", {\n    className: \"control\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"select\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(\"select\", {\n    onChange: handleChange,\n    value: values.category,\n    name: \"category\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, \"Category\"), preferences && preferences.map(pref => React.createElement(\"option\", {\n    key: pref,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, pref))))), errors.category && React.createElement(\"p\", {\n    className: \"has-text-danger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, errors.category)), React.createElement(\"div\", {\n    className: \"field\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, \"Amount\"), React.createElement(\"div\", {\n    className: \"control\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    name: \"amount\",\n    onChange: handleChange,\n    onBlur: handleBlur,\n    value: values.amount,\n    placeholder: \"How much was the expense?\",\n    autoComplete: \"off\",\n    type: \"text\" // className=\"input is-danger\"\n    ,\n    className: errors.amount ? 'input is-danger' : 'input' // className={errors.description && 'has-text-danger input'}\n    ,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  })), errors.amount && React.createElement(\"p\", {\n    className: \"help is-danger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"icon has-text-danger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"fas fa-ban\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  })), errors.amount)), React.createElement(\"div\", {\n    className: \"field\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, \"Business\"), React.createElement(\"div\", {\n    className: \"control\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    name: \"business\",\n    onChange: handleChange,\n    value: values.business,\n    placeholder: \"Where did the purchase take place?\",\n    autoComplete: \"off\",\n    type: \"text\" // className={errors.url && 'has-text-danger'}\n    ,\n    className: \"input\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }), errors.url && React.createElement(\"p\", {\n    className: \"has-text-danger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, errors.url))), React.createElement(\"div\", {\n    className: \"field\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }, \"Payment Method\"), React.createElement(\"div\", {\n    className: \"control\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"radio\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"radio\",\n    name: \"paymentMethod\",\n    value: \"Debit Card\",\n    checked: values.paymentMethod === \"Debit Card\",\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"radio-option\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, \" Debit Card\")), React.createElement(\"label\", {\n    className: \"radio\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"radio\",\n    name: \"paymentMethod\",\n    value: \"Credit Card\",\n    checked: values.paymentMethod === \"Credit Card\",\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"radio-option\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }, \" Credit Card\")), React.createElement(\"label\", {\n    className: \"radio\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"radio\",\n    name: \"paymentMethod\",\n    value: \"Shared Credit Card\",\n    checked: values.paymentMethod === \"Shared Credit Card\",\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"radio-option\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }, \" Shared Credit Card\")), React.createElement(\"label\", {\n    className: \"radio\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"radio\",\n    name: \"paymentMethod\",\n    value: \"Cash\",\n    checked: values.paymentMethod === \"Cash\",\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"radio-option\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  }, \" Cash\")))), React.createElement(\"div\", {\n    className: \"field\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }, \"Description\"), React.createElement(\"div\", {\n    className: \"control\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    name: \"description\",\n    onChange: handleChange,\n    value: values.description,\n    placeholder: \"Any notes about the expense\",\n    autoComplete: \"off\",\n    type: \"text\" // className={errors.url && 'has-text-danger'}\n    ,\n    className: \"input\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165\n    },\n    __self: this\n  }), errors.url && React.createElement(\"p\", {\n    className: \"has-text-danger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  }, errors.url))), React.createElement(\"button\", {\n    className: \"button full-width\",\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  }, \"Add Expense\"))))) : React.createElement(Link, {\n    to: \"/login/\",\n    className: \"nav-link\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185\n    },\n    __self: this\n  }, React.createElement(\"h5\", {\n    className: \"has-text-grey-light\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186\n    },\n    __self: this\n  }, \"login\")));\n}\n\nexport default CreateLink;","map":{"version":3,"sources":["/Users/tristangruener/Desktop/trstn/dev/cashflow_app/src/components/CreateLink.js"],"names":["React","useFormValidation","validateCreateLink","FirebaseContext","Link","moment","INITIAL_STATE","category","amount","business","paymentMethod","description","CreateLink","props","time","Date","now","useContext","firebase","preferences","user","handleCreateExpense","handleSubmit","handleChange","handleBlur","values","errors","useState","setAmount","history","push","amountNum","parseFloat","expense","postedBy","id","uid","name","displayName","created","monthCreated","format","yearCreated","dayCreated","actualDay","db","collection","add","then","alert","map","pref","url"],"mappings":"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","sourcesContent":["import React from 'react'\nimport useFormValidation from './auth/useFormValidation'\nimport validateCreateLink from './auth/validateCreateLink'\nimport { FirebaseContext } from '../firebase'\nimport { Link } from \"react-router-dom\"\nimport moment from 'moment'\n\nconst INITIAL_STATE = {\n  category: \"\",\n  amount: \"\",\n  business: \"\",\n  paymentMethod: \"\",\n  description: \"\"\n}\n\n\n\n\nfunction CreateLink(props) {\n  const time = Date.now()\n  const { firebase, preferences, user } = React.useContext(FirebaseContext)\n  const { handleSubmit, handleChange, handleBlur, values, errors } = useFormValidation(INITIAL_STATE, validateCreateLink, handleCreateExpense, )\n\n  const [amount, setAmount] = React.useState(\"\")\n\n  // alert('hi')\n  // values.amount = 19\n\n  function handleCreateExpense() {\n    if(!user) {\n      props.history.push('/login')\n    } else {\n      const { category, amount, business, paymentMethod, description } = values\n\n      //convert amount to number here\n      const amountNum = parseFloat(amount, 10)\n\n      const expense = {\n        category,\n        amount: amountNum,\n        business,\n        paymentMethod,\n        description,\n        postedBy: {\n          id: user.uid,\n          name: user.displayName\n        },\n        created: Date.now(),\n        monthCreated: moment(Date.now()).format('MMMM'),\n        yearCreated: moment(Date.now()).format('YYYY'),\n        dayCreated: moment(Date.now()).format('D'),\n        actualDay: moment(Date.now()).format('dddd')\n      }\n\n      firebase.db.collection('expenses').add(expense).then(() => {\n        alert('hey!!')\n        //reset fields here\n        //hmm how do i do that in this case?\n        // values.amount = 19\n      })\n    }\n    values.amount = ''\n  }\n\n  return (\n    <div>\n      <div className=\"columns\">\n        <div className=\"column\">\n          <h3 className=\"has-text-grey\">Add Expense</h3>\n        </div>\n      </div>\n\n      {user ? (\n        <div className=\"columns\">\n          <div className=\"column\">\n            <div className=\"content\">\n\n              <form onSubmit={handleSubmit}>\n                <div className=\"field\">\n                  <label className=\"label\">Category</label>\n                  <div className=\"control\">\n                    <div className=\"select\">\n                      <select\n                        onChange={handleChange}\n                        value={values.category}\n                        name=\"category\"\n                      >\n                        <option>Category</option>\n                        {preferences && preferences.map(pref => (\n                          <option key={pref}>{pref}</option>\n                        ))}\n                      </select>\n                    </div>\n                  </div>\n                  {errors.category && <p className=\"has-text-danger\">{errors.category}</p>}\n                </div>\n\n                <div className=\"field\">\n                  <label className=\"label\">Amount</label>\n                  <div className=\"control\">\n                    <input\n                      name=\"amount\"\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      value={values.amount}\n                      placeholder=\"How much was the expense?\"\n                      autoComplete=\"off\"\n                      type=\"text\"\n                      // className=\"input is-danger\"\n                      className={errors.amount ? 'input is-danger' : 'input'}\n                      // className={errors.description && 'has-text-danger input'}\n                    />\n                  </div>\n                  {errors.amount &&\n                    <p className=\"help is-danger\">\n                      <span className=\"icon has-text-danger\">\n                        <i className=\"fas fa-ban\"></i>\n                      </span>\n                      {errors.amount}\n                    </p>}\n                </div>\n\n                <div className=\"field\">\n                  <label className=\"label\">Business</label>\n                  <div className=\"control\">\n                    <input\n                      name=\"business\"\n                      onChange={handleChange}\n                      value={values.business}\n                      placeholder=\"Where did the purchase take place?\"\n                      autoComplete=\"off\"\n                      type=\"text\"\n                      // className={errors.url && 'has-text-danger'}\n                      className=\"input\"\n                    />\n                    {errors.url && <p className=\"has-text-danger\">{errors.url}</p>}\n                  </div>\n                </div>\n\n                <div className=\"field\">\n                  <label className=\"label\">Payment Method</label>\n                  <div className=\"control\">\n                    <label className=\"radio\">\n                      <input type=\"radio\" name=\"paymentMethod\" value=\"Debit Card\" checked={values.paymentMethod === \"Debit Card\"} onChange={handleChange} />\n                      <span className=\"radio-option\"> Debit Card</span>\n                    </label>\n                    <label className=\"radio\">\n                      <input type=\"radio\" name=\"paymentMethod\" value=\"Credit Card\" checked={values.paymentMethod === \"Credit Card\"} onChange={handleChange} />\n                      <span className=\"radio-option\"> Credit Card</span>\n                    </label>\n                    <label className=\"radio\">\n                      <input type=\"radio\" name=\"paymentMethod\" value=\"Shared Credit Card\" checked={values.paymentMethod === \"Shared Credit Card\"} onChange={handleChange} />\n                      <span className=\"radio-option\"> Shared Credit Card</span>\n                    </label>\n                    <label className=\"radio\">\n                      <input type=\"radio\" name=\"paymentMethod\" value=\"Cash\" checked={values.paymentMethod === \"Cash\"} onChange={handleChange} />\n                      <span className=\"radio-option\"> Cash</span>\n                    </label>\n                  </div>\n                </div>\n\n                <div className=\"field\">\n                  <label className=\"label\">Description</label>\n                  <div className=\"control\">\n                    <input\n                      name=\"description\"\n                      onChange={handleChange}\n                      value={values.description}\n                      placeholder=\"Any notes about the expense\"\n                      autoComplete=\"off\"\n                      type=\"text\"\n                      // className={errors.url && 'has-text-danger'}\n                      className=\"input\"\n                    />\n                    {errors.url && <p className=\"has-text-danger\">{errors.url}</p>}\n                  </div>\n                </div>\n                <button className=\"button full-width\" type=\"submit\">Add Expense</button>\n              </form>\n\n            </div>\n          </div>\n        </div>\n      ) :\n        <Link to=\"/login/\" className=\"nav-link\">\n          <h5 className=\"has-text-grey-light\">login</h5>\n        </Link>\n      }\n    </div>\n  )\n}\n\nexport default CreateLink\n"]},"metadata":{},"sourceType":"module"}