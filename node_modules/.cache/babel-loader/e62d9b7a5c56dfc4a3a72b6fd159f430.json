{"ast":null,"code":"var _jsxFileName = \"/Users/tristangruener/Desktop/trstn/dev/cashflow_app/src/components/Nav.js\";\nimport React from 'react';\nimport { Link } from \"react-router-dom\";\nimport { FirebaseContext } from '../firebase';\n\nfunction Nav() {\n  const _React$useContext = React.useContext(FirebaseContext),\n        user = _React$useContext.user,\n        firebase = _React$useContext.firebase;\n\n  React.useEffect(() => {\n    if (user) {\n      const unsubscribe = loadUserPreferences();\n    }\n  }, [user]);\n\n  function loadUserPreferences() {\n    alert('in load user preferences');\n    const prefs = firebase.db.collection('users').doc(user.uid).onSnapshot(handleSnapshot); // .where(\"postedBy.id\", \"==\", user.uid)\n    // .where(\"monthCreated\", \"==\", month)\n    // .where(\"yearCreated\", \"==\", year)\n    // .orderBy('created', 'desc')\n    // .onSnapshot(handleSnapshot)\n  }\n\n  function handleSnapshot(snapshot) {\n    console.log('in handle snapshot');\n    console.log(snapshot.doc); // const expenses = snapshot.docs.map(doc => {\n    //   return { id: doc.id, ...doc.data() }\n    // })\n    // setExpenses(expenses)\n    // getTotal(expenses)\n  }\n\n  return React.createElement(\"div\", {\n    className: \"nav section\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"columns is-mobile\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    className: \"has-text-grey\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, \"\\uD83D\\uDCB5 cashflow.cool\")))), React.createElement(\"div\", {\n    className: \"column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"content has-text-right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, user ? React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, user.displayName), React.createElement(Link, {\n    to: \"/\",\n    className: \"nav-link\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"h5\", {\n    className: \"has-text-grey-light\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"expenses\")), React.createElement(Link, {\n    to: \"/dashboard/\",\n    className: \"nav-link\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"h5\", {\n    className: \"has-text-grey-light\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"dashboard\")), React.createElement(\"div\", {\n    onClick: () => firebase.logout(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(\"h5\", {\n    className: \"has-text-grey-light\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \"logout\"))) : React.createElement(Link, {\n    to: \"/login/\",\n    className: \"nav-link\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"h5\", {\n    className: \"has-text-grey-light\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"login\")))))));\n}\n\nexport default Nav;","map":{"version":3,"sources":["/Users/tristangruener/Desktop/trstn/dev/cashflow_app/src/components/Nav.js"],"names":["React","Link","FirebaseContext","Nav","useContext","user","firebase","useEffect","unsubscribe","loadUserPreferences","alert","prefs","db","collection","doc","uid","onSnapshot","handleSnapshot","snapshot","console","log","displayName","logout"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Link } from \"react-router-dom\"\nimport { FirebaseContext } from '../firebase'\n\nfunction Nav() {\n  const { user, firebase } = React.useContext(FirebaseContext)\n\n  React.useEffect(() => {\n    if (user) {\n      const unsubscribe = loadUserPreferences()\n    }\n  }, [user])\n\n  function loadUserPreferences() {\n    alert('in load user preferences')\n\n    const prefs = firebase.db.collection('users').doc(user.uid).onSnapshot(handleSnapshot)\n      // .where(\"postedBy.id\", \"==\", user.uid)\n      // .where(\"monthCreated\", \"==\", month)\n      // .where(\"yearCreated\", \"==\", year)\n      // .orderBy('created', 'desc')\n      // .onSnapshot(handleSnapshot)\n\n  }\n\n  function handleSnapshot(snapshot) {\n    console.log('in handle snapshot')\n    console.log(snapshot.doc)\n    // const expenses = snapshot.docs.map(doc => {\n    //   return { id: doc.id, ...doc.data() }\n    // })\n    // setExpenses(expenses)\n    // getTotal(expenses)\n  }\n\n\n\n  return (\n    <div className=\"nav section\">\n      <div className=\"container\">\n        <div className=\"columns is-mobile\">\n          <div className=\"column\">\n            <div className=\"content\">\n              <Link to=\"/\"><h3 className=\"has-text-grey\">ðŸ’µ cashflow.cool</h3></Link>\n            </div>\n          </div>\n          <div className=\"column\">\n            <div className=\"content has-text-right\">\n              {user ? (\n                <>\n                  <div>{user.displayName}</div>\n                  <Link to=\"/\" className=\"nav-link\">\n                    <h5 className=\"has-text-grey-light\">expenses</h5>\n                  </Link>\n                  <Link to=\"/dashboard/\" className=\"nav-link\">\n                    <h5 className=\"has-text-grey-light\">dashboard</h5>\n                  </Link>\n                  <div onClick={() => firebase.logout()}>\n                    <h5 className=\"has-text-grey-light\">logout</h5>\n                  </div>\n                </>\n              ) : <Link to=\"/login/\" className=\"nav-link\">\n                <h5 className=\"has-text-grey-light\">login</h5>\n              </Link>}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Nav\n"]},"metadata":{},"sourceType":"module"}