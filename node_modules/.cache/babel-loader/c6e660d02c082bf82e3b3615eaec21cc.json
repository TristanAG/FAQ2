{"ast":null,"code":"import _slicedToArray from \"/Users/tristangruener/Desktop/trstn/dev/FAQ2/faq2beta/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/tristangruener/Desktop/trstn/dev/FAQ2/faq2beta/src/components/auth/Login.js\";\nimport React from 'react';\nimport useFormValidation from './useFormValidation';\nimport validateLogin from './validateLogin';\nimport firebase from '../../firebase';\nimport { Link } from 'react-router-dom';\nconst INITIAL_STATE = {\n  name: \"\",\n  email: \"\",\n  password: \"\" //alright so each of these functions comes from the useFormValidation file... it's interesting how this is all working\n  //i mean, it seems a bit more complex than im used to... but manageable. i get what's going on... so like, when you\n  //execute the function here, it's like the code is in this file, but it actually exists in useFormValidation. pretty neat.\n\n};\n\nfunction Login(props) {\n  const _useFormValidation = useFormValidation(INITIAL_STATE, validateLogin, authenticateUser),\n        handleChange = _useFormValidation.handleChange,\n        handleBlur = _useFormValidation.handleBlur,\n        handleSubmit = _useFormValidation.handleSubmit,\n        values = _useFormValidation.values,\n        errors = _useFormValidation.errors,\n        isSubmitting = _useFormValidation.isSubmitting; //login is the state variable, and setLogin is the setter\n  //setLogin gets called when the button is clicked below\n  //and it looks like when you call a state function, you have access to the previous state on that piece of state (login)\n\n\n  const _React$useState = React.useState(true),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        login = _React$useState2[0],\n        setLogin = _React$useState2[1];\n\n  const _React$useState3 = React.useState(null),\n        _React$useState4 = _slicedToArray(_React$useState3, 2),\n        firebaseError = _React$useState4[0],\n        setFirebaseError = _React$useState4[1];\n\n  async function authenticateUser() {\n    const name = values.name,\n          email = values.email,\n          password = values.password;\n\n    try {\n      const response = login ? await firebase.login(email, password) : await firebase.register(name, email, password);\n      props.history.push('/');\n    } catch (err) {\n      console.error('Authentication Error', err);\n      setFirebaseError(err.message);\n    }\n  }\n\n  return React.createElement(\"section\", {\n    className: \"login section\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"columns\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"column is-two-thirds\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    className: \"has-text-grey-light\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, login ? \"login\" : \"create account\"), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, !login && React.createElement(\"div\", {\n    className: \"field\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, \"Name\"), React.createElement(\"div\", {\n    className: \"control\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    className: \"input\",\n    type: \"text\",\n    placeholder: \"name\",\n    autoComplete: \"off\",\n    name: \"name\",\n    value: values.name,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"field\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, \"Email\"), React.createElement(\"div\", {\n    className: \"control\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    // className=\"input\"\n    className: errors.email ? \"input error-input\" : \"input\",\n    type: \"text\",\n    placeholder: \"email\",\n    autoComplete: \"off\",\n    name: \"email\",\n    value: values.email,\n    onChange: handleChange,\n    onBlur: handleBlur,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }))), errors.email && React.createElement(\"p\", {\n    className: \"has-text-danger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, errors.email), React.createElement(\"div\", {\n    className: \"field\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, \"Password\"), React.createElement(\"div\", {\n    className: \"control\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    className: errors.password ? \"input error-input\" : \"input\",\n    type: \"password\",\n    placeholder: \"choose a password\",\n    name: \"password\",\n    value: values.password,\n    onChange: handleChange,\n    onBlur: handleBlur,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }))), errors.password && React.createElement(\"p\", {\n    className: \"has-text-danger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, errors.password), firebaseError && React.createElement(\"p\", {\n    className: \"has-text-danger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, firebaseError), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    className: \"button is-primary\",\n    type: \"submit\",\n    value: \"Submit\",\n    disabled: isSubmitting,\n    style: {\n      marginRight: '18px',\n      background: isSubmitting && 'grey'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, \"submit\"), React.createElement(\"button\", {\n    className: \"button\",\n    type: \"button\",\n    onClick: () => setLogin(prevLogin => !prevLogin),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, login ? \"need to create an account?\" : \"already have an account?\")), React.createElement(Link, {\n    className: \"forgot-password\",\n    to: \"/forgot\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, \"forgot password?\")))))));\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/tristangruener/Desktop/trstn/dev/FAQ2/faq2beta/src/components/auth/Login.js"],"names":["React","useFormValidation","validateLogin","firebase","Link","INITIAL_STATE","name","email","password","Login","props","authenticateUser","handleChange","handleBlur","handleSubmit","values","errors","isSubmitting","useState","login","setLogin","firebaseError","setFirebaseError","response","register","history","push","err","console","error","message","marginRight","background","prevLogin"],"mappings":"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","sourcesContent":["import React from 'react'\nimport useFormValidation from './useFormValidation'\nimport validateLogin from './validateLogin'\nimport firebase from '../../firebase'\nimport { Link } from 'react-router-dom'\n\nconst INITIAL_STATE = {\n  name: \"\",\n  email: \"\",\n  password: \"\"\n}\n\n//alright so each of these functions comes from the useFormValidation file... it's interesting how this is all working\n//i mean, it seems a bit more complex than im used to... but manageable. i get what's going on... so like, when you\n//execute the function here, it's like the code is in this file, but it actually exists in useFormValidation. pretty neat.\nfunction Login(props) {\n  const {\n    handleChange,\n    handleBlur,\n    handleSubmit,\n    values,\n    errors,\n    isSubmitting\n  } = useFormValidation(INITIAL_STATE, validateLogin, authenticateUser)\n\n  //login is the state variable, and setLogin is the setter\n  //setLogin gets called when the button is clicked below\n  //and it looks like when you call a state function, you have access to the previous state on that piece of state (login)\n  const [login, setLogin] = React.useState(true)\n  const [firebaseError, setFirebaseError] = React.useState(null)\n\n  async function authenticateUser() {\n    const { name, email, password } = values\n\n    try {\n      const response = login\n        ? await firebase.login(email, password)\n        : await firebase.register(name, email, password)\n      props.history.push('/')\n    } catch (err) {\n      console.error('Authentication Error', err)\n      setFirebaseError(err.message)\n    }\n\n  }\n\n  return (\n    <section className=\"login section\">\n      <div className=\"container\">\n        <div className=\"columns\">\n          <div className=\"column is-two-thirds\">\n            <div className=\"content\">\n              <h3 className=\"has-text-grey-light\">{login ? \"login\" : \"create account\"}</h3>\n              <div>\n                <form onSubmit={handleSubmit}>\n                  {!login &&\n                    <div className=\"field\">\n                      <label className=\"label\">Name</label>\n                      <div className=\"control\">\n                        <input\n                          className=\"input\"\n                          type=\"text\"\n                          placeholder=\"name\"\n                          autoComplete=\"off\"\n                          name=\"name\"\n                          value={values.name}\n                          onChange={handleChange}\n                        />\n                      </div>\n                    </div>\n                  }\n                  <div className=\"field\">\n                    <label className=\"label\">Email</label>\n                    <div className=\"control\">\n                      <input\n                        // className=\"input\"\n                        className={errors.email ? \"input error-input\" : \"input\"}\n                        type=\"text\"\n                        placeholder=\"email\"\n                        autoComplete=\"off\"\n                        name=\"email\"\n                        value={values.email}\n                        onChange={handleChange}\n                        onBlur={handleBlur}\n                      />\n                    </div>\n                  </div>\n                  {errors.email && <p className=\"has-text-danger\">{errors.email}</p>}\n                  <div className=\"field\">\n                    <label className=\"label\">Password</label>\n                    <div className=\"control\">\n                      <input\n                        className={errors.password ? \"input error-input\" : \"input\"}\n                        type=\"password\"\n                        placeholder=\"choose a password\"\n                        name=\"password\"\n                        value={values.password}\n                        onChange={handleChange}\n                        onBlur={handleBlur}\n                      />\n                    </div>\n                  </div>\n                  {errors.password && <p className=\"has-text-danger\">{errors.password}</p>}\n                  {firebaseError && <p className=\"has-text-danger\">{firebaseError}</p>}\n                  <br />\n                  <button\n                    className=\"button is-primary\"\n                    type=\"submit\"\n                    value=\"Submit\"\n                    disabled={isSubmitting}\n                    style={{\n                      marginRight: '18px',\n                      background: isSubmitting && 'grey'\n                    }}>\n                      submit\n                  </button>\n                  <button\n                    className=\"button\"\n                    type=\"button\"\n                    onClick={() => setLogin(prevLogin => !prevLogin)}>\n                      {login ? \"need to create an account?\" : \"already have an account?\"}\n                  </button>\n                </form>\n                <Link className=\"forgot-password\" to=\"/forgot\">forgot password?</Link>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n  )\n}\n\nexport default Login\n"]},"metadata":{},"sourceType":"module"}