{"ast":null,"code":"import _objectSpread from \"/Users/tristangruener/Desktop/trstn/dev/cashflow_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/tristangruener/Desktop/trstn/dev/cashflow_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/tristangruener/Desktop/trstn/dev/cashflow_app/src/components/Expenses.js\";\nimport React from 'react';\nimport FirebaseContext from '../firebase/context';\nimport Expense from './Expense';\n\nfunction Expenses() {\n  const _React$useContext = React.useContext(FirebaseContext),\n        firebase = _React$useContext.firebase;\n\n  const _React$useState = React.useState([]),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        expenses = _React$useState2[0],\n        setExpenses = _React$useState2[1]; //something about this empty array as a dependency lets it hook into the\n  //onMount or soemthing?\n\n\n  React.useEffect(() => {\n    getExpenses();\n  }, []);\n\n  function getExpenses() {\n    firebase.db.collection('expenses').orderBy('created', 'desc').onSnapshot(handleSnapshot);\n  }\n\n  function handleSnapshot(snapshot) {\n    const expenses = snapshot.docs.map(doc => {\n      return _objectSpread({\n        id: doc.id\n      }, doc.data());\n    });\n    setExpenses(expenses);\n    console.log(expenses[0]);\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    className: \"has-text-grey-light\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, \"e x p e n s e s :) :)\"), React.createElement(\"div\", {\n    className: \"expenses-list\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, expenses.map((expense, index) => // <p key={expense.id}>{expense.business} | <b className=\"has-text-warning\">{expense.amount} </b></p>\n  React.createElement(Expense, {\n    key: expense.id,\n    expense: expense,\n    index: index + 1,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }))));\n}\n\nexport default Expenses;","map":{"version":3,"sources":["/Users/tristangruener/Desktop/trstn/dev/cashflow_app/src/components/Expenses.js"],"names":["React","FirebaseContext","Expense","Expenses","useContext","firebase","useState","expenses","setExpenses","useEffect","getExpenses","db","collection","orderBy","onSnapshot","handleSnapshot","snapshot","docs","map","doc","id","data","console","log","expense","index"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,eAAP,MAA4B,qBAA5B;AACA,OAAOC,OAAP,MAAoB,WAApB;;AAEA,SAASC,QAAT,GAAoB;AAAA,4BACGH,KAAK,CAACI,UAAN,CAAiBH,eAAjB,CADH;AAAA,QACVI,QADU,qBACVA,QADU;;AAAA,0BAEcL,KAAK,CAACM,QAAN,CAAe,EAAf,CAFd;AAAA;AAAA,QAEXC,QAFW;AAAA,QAEDC,WAFC,wBAIlB;AACA;;;AACAR,EAAAA,KAAK,CAACS,SAAN,CAAgB,MAAM;AACpBC,IAAAA,WAAW;AACZ,GAFD,EAEG,EAFH;;AAKA,WAASA,WAAT,GAAuB;AACrBL,IAAAA,QAAQ,CAACM,EAAT,CAAYC,UAAZ,CAAuB,UAAvB,EAAmCC,OAAnC,CAA2C,SAA3C,EAAsD,MAAtD,EAA8DC,UAA9D,CAAyEC,cAAzE;AACD;;AAED,WAASA,cAAT,CAAwBC,QAAxB,EAAkC;AAChC,UAAMT,QAAQ,GAAGS,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkBC,GAAG,IAAI;AACxC;AAASC,QAAAA,EAAE,EAAED,GAAG,CAACC;AAAjB,SAAwBD,GAAG,CAACE,IAAJ,EAAxB;AACD,KAFgB,CAAjB;AAGAb,IAAAA,WAAW,CAACD,QAAD,CAAX;AACAe,IAAAA,OAAO,CAACC,GAAR,CAAYhB,QAAQ,CAAC,CAAD,CAApB;AACD;;AAED,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEE;AAAI,IAAA,SAAS,EAAC,qBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAFF,EAKE;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACCA,QAAQ,CAACW,GAAT,CAAa,CAACM,OAAD,EAAUC,KAAV,KACZ;AACA,sBAAC,OAAD;AAAS,IAAA,GAAG,EAAED,OAAO,CAACJ,EAAtB;AAA0B,IAAA,OAAO,EAAEI,OAAnC;AAA4C,IAAA,KAAK,EAAEC,KAAK,GAAG,CAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFD,CADD,CALF,CADF;AAcD;;AAED,eAAetB,QAAf","sourcesContent":["import React from 'react'\nimport FirebaseContext from '../firebase/context'\nimport Expense from './Expense'\n\nfunction Expenses() {\n  const { firebase } = React.useContext(FirebaseContext)\n  const [expenses, setExpenses] = React.useState([])\n\n  //something about this empty array as a dependency lets it hook into the\n  //onMount or soemthing?\n  React.useEffect(() => {\n    getExpenses()\n  }, [])\n\n\n  function getExpenses() {\n    firebase.db.collection('expenses').orderBy('created', 'desc').onSnapshot(handleSnapshot)\n  }\n\n  function handleSnapshot(snapshot) {\n    const expenses = snapshot.docs.map(doc => {\n      return { id: doc.id, ...doc.data() }\n    })\n    setExpenses(expenses)\n    console.log(expenses[0])\n  }\n\n  return (\n    <div>\n\n      <h3 className=\"has-text-grey-light\">e x p e n s e s :) :)</h3>\n\n      {/* nice, i got some expenses outputting so my data flow is working! */}\n      <div className=\"expenses-list\">\n      {expenses.map((expense, index) => (\n        // <p key={expense.id}>{expense.business} | <b className=\"has-text-warning\">{expense.amount} </b></p>\n        <Expense key={expense.id} expense={expense} index={index + 1} />\n      ))}\n      </div>\n    </div>\n  )\n}\n\nexport default Expenses\n"]},"metadata":{},"sourceType":"module"}